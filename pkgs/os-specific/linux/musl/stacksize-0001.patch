From c7ed3e909a69d34a7821f7db644c2fa590a1a690 Mon Sep 17 00:00:00 2001
From: Rich Felker <dalias@aerifal.cx>
Date: Tue, 18 Sep 2018 19:43:52 -0400
Subject: [PATCH 1/4] remove redundant declarations of __default_stacksize,
 __default_guardsize

these are now declared in pthread_impl.h.
---
 src/thread/pthread_attr_init.c          | 3 ---
 src/thread/pthread_create.c             | 2 --
 src/thread/pthread_setattr_default_np.c | 3 ---
 3 files changed, 8 deletions(-)

diff --git a/src/thread/pthread_attr_init.c b/src/thread/pthread_attr_init.c
index 398990d1..463a8d20 100644
--- a/src/thread/pthread_attr_init.c
+++ b/src/thread/pthread_attr_init.c
@@ -1,8 +1,5 @@
 #include "pthread_impl.h"
 
-extern size_t __default_stacksize;
-extern size_t __default_guardsize;
-
 int pthread_attr_init(pthread_attr_t *a)
 {
 	*a = (pthread_attr_t){0};
diff --git a/src/thread/pthread_create.c b/src/thread/pthread_create.c
index 3293dcd5..3da7db14 100644
--- a/src/thread/pthread_create.c
+++ b/src/thread/pthread_create.c
@@ -162,8 +162,6 @@ static void *dummy_tsd[1] = { 0 };
 weak_alias(dummy_tsd, __pthread_tsd_main);
 
 volatile int __block_new_threads = 0;
-extern size_t __default_stacksize;
-extern size_t __default_guardsize;
 
 static FILE *volatile dummy_file = 0;
 weak_alias(dummy_file, __stdin_used);
diff --git a/src/thread/pthread_setattr_default_np.c b/src/thread/pthread_setattr_default_np.c
index 88503e34..256f0685 100644
--- a/src/thread/pthread_setattr_default_np.c
+++ b/src/thread/pthread_setattr_default_np.c
@@ -2,9 +2,6 @@
 #include "pthread_impl.h"
 #include <string.h>
 
-extern size_t __default_stacksize;
-extern size_t __default_guardsize;
-
 int pthread_setattr_default_np(const pthread_attr_t *attrp)
 {
 	/* Reject anything in the attr object other than stack/guard size. */
-- 
2.19.0

